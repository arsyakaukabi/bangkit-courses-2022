!function i(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,i,a,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){var o,r;o=this,r=function(){"use strict";var o=Object.hasOwnProperty,i=Object.setPrototypeOf,a=Object.isFrozen,r=Object.getPrototypeOf,s=Object.getOwnPropertyDescriptor,Ce=Object.freeze,e=Object.seal,c=Object.create,t="undefined"!=typeof Reflect&&Reflect,u=t.apply,l=t.construct;u=u||function(e,t,n){return e.apply(t,n)},Ce=Ce||function(e){return e},e=e||function(e){return e},l=l||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))};var d,Pe=f(Array.prototype.forEach),Be=f(Array.prototype.pop),Ie=f(Array.prototype.push),De=f(String.prototype.toLowerCase),Ne=f(String.prototype.match),Re=f(String.prototype.replace),Fe=f(String.prototype.indexOf),Ue=f(String.prototype.trim),$e=f(RegExp.prototype.test),ze=(d=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(d,t)});function f(r){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return u(r,e,n)}}function We(e,t){i&&i(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=De(o);r!==o&&(a(t)||(t[n]=r),o=r)}e[o]=!0}return e}function Ke(e){var t=c(null),n=void 0;for(n in e)u(o,e,[n])&&(t[n]=e[n]);return t}function He(e,t){for(;null!==e;){var n=s(e,t);if(n){if(n.get)return f(n.get);if("function"==typeof n.value)return f(n.value)}e=r(e)}return null}var Ve=Ce(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qe=Ce(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ge=Ce(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qe=Ce(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Je=Ce(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ye=Ce(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xe=Ce(["#text"]),Ze=Ce(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),et=Ce(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tt=Ce(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nt=Ce(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ot=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),rt=e(/<%[\s\S]*|[\s\S]*%>/gm),it=e(/^data-[\-\w.\u00B7-\uFFFF]/),at=e(/^aria-[\-\w]+$/),st=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ct=e(/^(?:\w+script|data):/i),ut=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function dt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ft=function(){return"undefined"==typeof window?null:window},pt=function(e,t){if("object"!==(void 0===e?"undefined":lt(e))||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(e){function d(e){return t(e)}var u=0<arguments.length&&void 0!==e?e:ft();if(d.version="2.2.6",d.removed=[],!u||!u.document||9!==u.document.nodeType)return d.isSupported=!1,d;var l=u.document,a=u.document,f=u.DocumentFragment,n=u.HTMLTemplateElement,p=u.Node,s=u.Element,o=u.NodeFilter,r=u.NamedNodeMap,c=void 0===r?u.NamedNodeMap||u.MozNamedAttrMap:r,h=u.Text,m=u.Comment,y=u.DOMParser,i=u.trustedTypes,g=s.prototype,b=He(g,"cloneNode"),v=He(g,"nextSibling"),w=He(g,"childNodes"),k=He(g,"parentNode");if("function"==typeof n){var E=a.createElement("template");E.content&&E.content.ownerDocument&&(a=E.content.ownerDocument)}var _=pt(i,l),O=_&&oe?_.createHTML(""):"",T=a,A=T.implementation,S=T.createNodeIterator,L=T.getElementsByTagName,x=T.createDocumentFragment,j=l.importNode,M={};try{M=Ke(a).documentMode?a.documentMode:{}}catch(e){}var C={};d.isSupported=A&&void 0!==A.createHTMLDocument&&9!==M;function P(e){pe&&pe===e||(e&&"object"===(void 0===e?"undefined":lt(e))||(e={}),e=Ke(e),$="ALLOWED_TAGS"in e?We({},e.ALLOWED_TAGS):z,W="ALLOWED_ATTR"in e?We({},e.ALLOWED_ATTR):K,de="ADD_URI_SAFE_ATTR"in e?We(Ke(fe),e.ADD_URI_SAFE_ATTR):fe,ue="ADD_DATA_URI_TAGS"in e?We(Ke(le),e.ADD_DATA_URI_TAGS):le,H="FORBID_TAGS"in e?We({},e.FORBID_TAGS):{},V="FORBID_ATTR"in e?We({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,G=!1!==e.ALLOW_DATA_ATTR,Q=e.ALLOW_UNKNOWN_PROTOCOLS||!1,J=e.SAFE_FOR_TEMPLATES||!1,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=!1!==e.RETURN_DOM_IMPORT,oe=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ie=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,J&&(G=!1),te&&(ee=!0),se&&($=We({},[].concat(dt(Xe))),W=[],!0===se.html&&(We($,Ve),We(W,Ze)),!0===se.svg&&(We($,qe),We(W,et),We(W,nt)),!0===se.svgFilters&&(We($,Ge),We(W,et),We(W,nt)),!0===se.mathMl&&(We($,Je),We(W,tt),We(W,nt))),e.ADD_TAGS&&($===z&&($=Ke($)),We($,e.ADD_TAGS)),e.ADD_ATTR&&(W===K&&(W=Ke(W)),We(W,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&We(de,e.ADD_URI_SAFE_ATTR),ie&&($["#text"]=!0),Y&&We($,["html","head","body"]),$.table&&(We($,["tbody"]),delete H.tbody),Ce&&Ce(e),pe=e)}var B=ot,I=rt,D=it,N=at,R=ct,F=ut,U=st,$=null,z=We({},[].concat(dt(Ve),dt(qe),dt(Ge),dt(Je),dt(Xe))),W=null,K=We({},[].concat(dt(Ze),dt(et),dt(tt),dt(nt))),H=null,V=null,q=!0,G=!0,Q=!1,J=!1,Y=!1,X=!1,Z=!1,ee=!1,te=!1,ne=!0,oe=!1,re=!0,ie=!0,ae=!1,se={},ce=We({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,le=We({},["audio","video","img","source","image","track"]),de=null,fe=We({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),pe=null,he=a.createElement("form"),me=We({},["mi","mo","mn","ms","mtext"]),ye=We({},["foreignobject","desc","title","annotation-xml"]),ge=We({},qe);We(ge,Ge),We(ge,Qe);var be=We({},Je);We(be,Ye);function ve(t){Ie(d.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=O}catch(e){t.remove()}}}function we(e,t){try{Ie(d.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ie(d.removed,{attribute:null,from:t})}t.removeAttribute(e)}function ke(e){var t=void 0,n=void 0;if(Z)e="<remove></remove>"+e;else{var o=Ne(e,/^[\r\n\t ]+/);n=o&&o[0]}var r=_?_.createHTML(e):e;try{t=(new y).parseFromString(r,"text/html")}catch(e){}if(!t||!t.documentElement){var i=(t=A.createHTMLDocument("")).body;i.parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=r}return e&&n&&t.body.insertBefore(a.createTextNode(n),t.body.childNodes[0]||null),L.call(t,Y?"html":"body")[0]}function Ee(e){return S.call(e.ownerDocument||e,e,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT,function(){return o.FILTER_ACCEPT},!1)}function _e(e){return"object"===(void 0===p?"undefined":lt(p))?e instanceof p:e&&"object"===(void 0===e?"undefined":lt(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function Oe(e,t,n){C[e]&&Pe(C[e],function(e){e.call(d,t,n,pe)})}function Te(e){var t=void 0;if(Oe("beforeSanitizeElements",e,null),function(e){return!(e instanceof h||e instanceof m||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof c&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)}(e))return ve(e),!0;if(Ne(e.nodeName,/[\u0080-\uFFFF]/))return ve(e),!0;var n=De(e.nodeName);if(Oe("uponSanitizeElement",e,{tagName:n,allowedTags:$}),!_e(e.firstElementChild)&&(!_e(e.content)||!_e(e.content.firstElementChild))&&$e(/<[/\w]/g,e.innerHTML)&&$e(/<[/\w]/g,e.textContent))return ve(e),!0;if($[n]&&!H[n])return e instanceof s&&!function(e){var t=k(e);t&&t.tagName||(t={namespaceURI:Me,tagName:"template"});var n=De(e.tagName),o=De(t.tagName);if(e.namespaceURI===je)return t.namespaceURI===Me?"svg"===n:t.namespaceURI===xe?"svg"===n&&("annotation-xml"===o||me[o]):Boolean(ge[n]);if(e.namespaceURI===xe)return t.namespaceURI===Me?"math"===n:t.namespaceURI===je?"math"===n&&ye[o]:Boolean(be[n]);if(e.namespaceURI!==Me)return!1;if(t.namespaceURI===je&&!ye[o])return!1;if(t.namespaceURI===xe&&!me[o])return!1;var r=We({},["title","style","font","a","script"]);return!be[n]&&(r[n]||!ge[n])}(e)?(ve(e),!0):"noscript"!==n&&"noembed"!==n||!$e(/<\/no(script|embed)/i,e.innerHTML)?(J&&3===e.nodeType&&(t=e.textContent,t=Re(t,B," "),t=Re(t,I," "),e.textContent!==t&&(Ie(d.removed,{element:e.cloneNode()}),e.textContent=t)),Oe("afterSanitizeElements",e,null),!1):(ve(e),!0);if(ie&&!ce[n])for(var o=k(e),r=w(e),i=r.length-1;0<=i;--i)o.insertBefore(b(r[i],!0),v(e));return ve(e),!0}function Ae(e,t,n){if(re&&("id"===t||"name"===t)&&(n in a||n in he))return!1;if(G&&$e(D,t));else if(q&&$e(N,t));else{if(!W[t]||V[t])return!1;if(de[t]);else if($e(U,Re(n,F,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Fe(n,"data:")||!ue[e])if(Q&&!$e(R,Re(n,F,"")));else if(n)return!1}return!0}function Se(e){var t=void 0,n=void 0,o=void 0,r=void 0;Oe("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(r=i.length;r--;){var s=t=i[r],c=s.name,u=s.namespaceURI;if(n=Ue(t.value),o=De(c),a.attrName=o,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Oe("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(we(c,e),a.keepAttr))if($e(/\/>/i,n))we(c,e);else{J&&(n=Re(n,B," "),n=Re(n,I," "));var l=e.nodeName.toLowerCase();if(Ae(l,o,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),Be(d.removed)}catch(e){}}}Oe("afterSanitizeAttributes",e,null)}}function Le(e){var t=void 0,n=Ee(e);for(Oe("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)Oe("uponSanitizeShadowNode",t,null),Te(t)||(t.content instanceof f&&Le(t.content),Se(t));Oe("afterSanitizeShadowDOM",e,null)}var xe="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",Me="http://www.w3.org/1999/xhtml";return d.sanitize=function(e,t){var n=void 0,o=void 0,r=void 0,i=void 0,a=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!_e(e)){if("function"!=typeof e.toString)throw ze("toString is not a function");if("string"!=typeof(e=e.toString()))throw ze("dirty is not a string, aborting")}if(!d.isSupported){if("object"===lt(u.toStaticHTML)||"function"==typeof u.toStaticHTML){if("string"==typeof e)return u.toStaticHTML(e);if(_e(e))return u.toStaticHTML(e.outerHTML)}return e}if(X||P(t),d.removed=[],"string"==typeof e&&(ae=!1),ae);else if(e instanceof p)1===(o=(n=ke("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?n=o:"HTML"===o.nodeName?n=o:n.appendChild(o);else{if(!ee&&!J&&!Y&&-1===e.indexOf("<"))return _&&oe?_.createHTML(e):e;if(!(n=ke(e)))return ee?null:O}n&&Z&&ve(n.firstChild);for(var s=Ee(ae?e:n);r=s.nextNode();)3===r.nodeType&&r===i||Te(r)||(r.content instanceof f&&Le(r.content),Se(r),i=r);if(i=null,ae)return e;if(ee){if(te)for(a=x.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return ne&&(a=j.call(l,a,!0)),a}var c=Y?n.outerHTML:n.innerHTML;return J&&(c=Re(c,B," "),c=Re(c,I," ")),_&&oe?_.createHTML(c):c},d.setConfig=function(e){P(e),X=!0},d.clearConfig=function(){pe=null,X=!1},d.isValidAttribute=function(e,t,n){pe||P({});var o=De(e),r=De(t);return Ae(o,r,n)},d.addHook=function(e,t){"function"==typeof t&&(C[e]=C[e]||[],Ie(C[e],t))},d.removeHook=function(e){C[e]&&Be(C[e])},d.removeHooks=function(e){C[e]&&(C[e]=[])},d.removeAllHooks=function(){C={}},d}()},"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(o=o||self).DOMPurify=r()},{}],2:[function(e,t,n){var o,r;o=this,r=function(e){"use strict";var o=(t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},t.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},t.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},t.prototype.handleEvent=function(e){for(var t=function(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})}(e),n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(t.immediatePropagationStopped)break;r.handleEvent(t)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(e,t){var n=e.index,o=t.index;return n<o?-1:o<n?1:0})},enumerable:!0,configurable:!0}),t);function t(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}var n=(r.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},r.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(r.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},enumerable:!0,configurable:!0}),r.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},r.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},r.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},r.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},r.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),o=n.get(t);return o||(o=this.createEventListener(e,t),n.set(t,o)),o},r.prototype.createEventListener=function(e,t){var n=new o(e,t);return this.started&&n.connect(),n},r.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},r);function r(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}var i=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;function a(e){var t=e.trim().match(i)||[];return{eventTarget:function(e){{if("window"==e)return window;if("document"==e)return document}}(t[4]),eventName:t[2],identifier:t[5],methodName:t[7]}}var s=(c.forToken=function(e){return new this(e.element,e.index,a(e.content))},c.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(c.prototype,"eventTargetName",{get:function(){return function(e){return e==window?"window":e==document?"document":void 0}(this.eventTarget)},enumerable:!0,configurable:!0}),c);function c(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){var t=e.tagName.toLowerCase();if(t in u)return u[t](e)}(e)||l("missing event name"),this.identifier=n.identifier||l("missing identifier"),this.methodName=n.methodName||l("missing method name")}var u={a:function(e){return"click"},button:function(e){return"click"},form:function(e){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"change"},select:function(e){return"change"},textarea:function(e){return"change"}};function l(e){throw new Error(e)}var d=(Object.defineProperty(f.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),f.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(f.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),f.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(e){var n=this,o={identifier:n.identifier,controller:n.controller,element:n.element,index:n.index,event:t};this.context.handleError(e,'invoking action "'+this.action+'"',o)}},f.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t||!(t instanceof Element&&this.element.contains(t))||this.scope.containsElement(t)},Object.defineProperty(f.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),f);function f(e,t){this.context=e,this.action=t}var p=(h.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},h.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},h.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var o=n[t];e.has(o)||this.removeElement(o)}for(var r=0,i=Array.from(e);r<i.length;r++)o=i[r],this.addElement(o)}},h.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var o=n[t];this.processMutation(o)}},h.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},h.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},h.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],r=this.elementFromNode(o);r&&this.processTree(r,this.removeElement)}},h.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var o=n[t],r=this.elementFromNode(o);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}},h.prototype.matchElement=function(e){return this.delegate.matchElement(e)},h.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},h.prototype.processTree=function(e,t){for(var n=0,o=this.matchElementsInTree(e);n<o.length;n++){var r=o[n];t.call(this,r)}},h.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},h.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},h.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},h.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},h);function h(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}var m=(Object.defineProperty(y.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),y.prototype.start=function(){this.elementObserver.start()},y.prototype.stop=function(){this.elementObserver.stop()},y.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(y.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),y.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},y.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},y.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},y.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},y.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},y);function y(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new p(e,this)}function g(e,t,n){v(e,t).add(n)}function b(e,t,n){v(e,t).delete(n),function(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}function v(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}var w=(Object.defineProperty(k.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e.concat(Array.from(t))},[])},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e+t.size},0)},enumerable:!0,configurable:!0}),k.prototype.add=function(e,t){g(this.valuesByKey,e,t)},k.prototype.delete=function(e,t){b(this.valuesByKey,e,t)},k.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},k.prototype.hasKey=function(e){return this.valuesByKey.has(e)},k.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some(function(e){return e.has(t)})},k.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},k.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter(function(e){return e[0],e[1].has(t)}).map(function(e){var t=e[0];return e[1],t})},k);function k(){this.valuesByKey=new Map}var E,_;(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(O,_=w),Object.defineProperty(O.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),O.prototype.add=function(e,t){_.prototype.add.call(this,e,t),g(this.keysByValue,t,e)},O.prototype.delete=function(e,t){_.prototype.delete.call(this,e,t),b(this.keysByValue,t,e)},O.prototype.hasValue=function(e){return this.keysByValue.has(e)},O.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]};function O(){var e=_.call(this)||this;return e.keysByValue=new Map,e}var T=(Object.defineProperty(A.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),A.prototype.start=function(){this.attributeObserver.start()},A.prototype.stop=function(){this.attributeObserver.stop()},A.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(A.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),A.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},A.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],o=t[1];this.tokensUnmatched(n),this.tokensMatched(o)},A.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},A.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},A.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},A.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},A.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},A.prototype.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),o=function(n,o){var e=Math.max(n.length,o.length);return Array.from({length:e},function(e,t){return[n[t],o[t]]})}(t,n).findIndex(function(e){return!function(e,t){return e&&t&&e.index==t.index&&e.content==t.content}(e[0],e[1])});return-1==o?[[],[]]:[t.slice(o),n.slice(o)]},A.prototype.readTokensForElement=function(e){var t=this.attributeName;return function(e,n,o){return e.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,t){return{element:n,attributeName:o,content:e,index:t}})}(e.getAttribute(t)||"",e,t)},A);function A(e,t,n){this.attributeObserver=new m(e,t,this),this.delegate=n,this.tokensByElement=new w}var S=(Object.defineProperty(L.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),L.prototype.start=function(){this.tokenListObserver.start()},L.prototype.stop=function(){this.tokenListObserver.stop()},L.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(L.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),L.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},L.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},L.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},L.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},L.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}},L);function L(e,t,n){this.tokenListObserver=new T(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}var x=(j.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new S(this.element,this.actionAttribute,this),this.valueListObserver.start())},j.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(j.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),j.prototype.connectAction=function(e){var t=new d(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},j.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},j.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach(function(e){return t.delegate.bindingDisconnected(e)}),this.bindingsByAction.clear()},j.prototype.parseValueForToken=function(e){var t=s.forToken(e);if(t.identifier==this.identifier)return t},j.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},j.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},j);function j(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}var M=(C.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},C.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(C.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),C.prototype.handleError=function(e,t,n){void 0===n&&(n={});var o=this.identifier,r=this.controller,i=this.element;n=Object.assign({identifier:o,controller:r,element:i},n),this.application.handleError(e,"Error "+t,n)},C);function C(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new x(this,this.dispatcher);try{this.controller.initialize()}catch(e){this.handleError(e,"initializing controller")}}var P,B=(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function I(e){return{identifier:e.identifier,controllerConstructor:function(e){var t=D(e);return t.bless(),t}(e.controllerConstructor)}}var D=function(){function e(t){function n(){var e=this&&this instanceof n?this.constructor:void 0;return Reflect.construct(t,arguments,e)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}try{return(t=e(function(){this.a.call(this)})).prototype.a=function(){},new t,e}catch(e){return function(e){return B(t,n=e),t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}}var t}(),N=(Object.defineProperty(R.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),R.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},R.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},R.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new M(this,e),this.contextsByScope.set(e,t)),t},R);function R(e,t){this.application=e,this.definition=I(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}var F=(Object.defineProperty(U.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),U.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},U.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},U.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},U.prototype.delete=function(e){return!!this.has(e)&&(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0)},U.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}(e)},U);function U(e){this.scope=e}function $(e,t){return"["+e+'~="'+t+'"]'}var z=(Object.defineProperty(W.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),W.prototype.has=function(e){return null!=this.find(e)},W.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},W.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},W.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map(function(e){return t.getSelectorForTargetName(e)}).join(", ")},W.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return $(this.schema.targetAttribute,t)},W);function W(e){this.scope=e}var K=(H.prototype.findElement=function(e){return this.findAllElements(e)[0]},H.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},H.prototype.filterElements=function(e){var t=this;return e.filter(function(e){return t.containsElement(e)})},H.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(H.prototype,"controllerSelector",{get:function(){return $(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),H);function H(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new z(this),this.data=new F(this)}var V=(q.prototype.start=function(){this.valueListObserver.start()},q.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(q.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),q.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,o=this.fetchScopesByIdentifierForElement(t),r=o.get(n);return r||(r=new K(this.schema,n,t),o.set(n,r)),r},q.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},q.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},q.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},q);function q(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new S(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}var G=(Object.defineProperty(Q.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"contexts",{get:function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},enumerable:!0,configurable:!0}),Q.prototype.start=function(){this.scopeObserver.start()},Q.prototype.stop=function(){this.scopeObserver.stop()},Q.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new N(this.application,e);this.connectModule(t)},Q.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},Q.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find(function(e){return e.element==t})},Q.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},Q.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},Q.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},Q.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.connectContextForScope(e)})},Q.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach(function(e){return t.disconnectContextForScope(e)})},Q);function Q(e){this.application=e,this.scopeObserver=new V(this.element,this.schema,this),this.scopesByIdentifier=new w,this.modulesByIdentifier=new Map}var J={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},Y=function(i,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{r(c.next(e))}catch(e){t(e)}}function o(e){try{r(c.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,o)}r((c=c.apply(i,a||[])).next())})},X=function(n,o){var r,i,a,e,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(a=i[2&t[0]?"return":t[0]?"throw":"next"])&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[0,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],i=0}finally{r=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Z=(ee.start=function(e,t){var n=new ee(e,t);return n.start(),n},ee.prototype.start=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},ee.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},ee.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},ee.prototype.load=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.loadDefinition(e)})},ee.prototype.unload=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(ee.prototype,"controllers",{get:function(){return this.router.contexts.map(function(e){return e.controller})},enumerable:!0,configurable:!0}),ee.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},ee.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},ee);function ee(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=J),this.element=e,this.schema=t,this.dispatcher=new n(this),this.router=new G(this)}function te(e){var n=e.prototype;(function(e){var t=function(e){var t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t}(e);return Array.from(t.reduce(function(t,e){return function(e){var t=e.targets;return Array.isArray(t)?t:[]}(e).forEach(function(e){return t.add(e)}),t},new Set))})(e).forEach(function(t){var e;return function(n,o){Object.keys(o).forEach(function(e){if(!(e in n)){var t=o[e];Object.defineProperty(n,e,t)}})}(n,((e={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},e[t+"Targets"]={get:function(){return this.targets.findAll(t)}},e["has"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(t)+"Target"]={get:function(){return this.targets.has(t)}},e))})}var ne=(oe.bless=function(){te(this)},Object.defineProperty(oe.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),oe.prototype.initialize=function(){},oe.prototype.connect=function(){},oe.prototype.disconnect=function(){},oe.targets=[],oe);function oe(e){this.context=e}e.Application=Z,e.Context=M,e.Controller=ne,e.defaultSchema=J,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(o.Stimulus={})},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=(r.encodeTags=function(e){return(null===e||"boolean"==typeof e?"":e+"").replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;").replace(/`/gm,"&#96;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/[<]+\/?([^>]+)[>]+/gm,"&lt;$1&gt;")},r.splitLine=function(e){return e.split(/\r?\n/gm)},r);function r(){}n.default=o},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadJS=function(e,t){var n=window.document.getElementsByTagName("script")[0],o=window.document.createElement("script");o.src=e,o.async=!0,n.parentNode.insertBefore(o,n),t&&"function"==typeof t&&(o.onload=t);return o},n.loadCSS=function(e,t,n,o){var r=window.document.createElement("link"),i=t||window.document.getElementsByTagName("script")[0],a=window.document.styleSheets;r.rel="stylesheet",r.href=e,r.media="only x",o&&(r.onload=o);return i.parentNode.insertBefore(r,i),r.onloadcssdefined=function(e){for(var t,n=0;n<a.length;n++)a[n].href&&a[n].href===r.href&&(t=!0);t?e():setTimeout(function(){r.onloadcssdefined(e)})},r.onloadcssdefined(function(){r.media=n||"all"}),r}},{}],5:[function(e,t,n){"use strict";var r,i=e("dompurify");(r=jQuery)("body").on("click",'[data-toggle="modal-tertiary"]',function(){var e=r(this),t={action:e.data("tertiaryAction"),payload:e.data("tertiaryPayload"),modalTarget:e.data("target")},n=r(t.modalTarget),o=document.querySelector(t.modalTarget+" .modal-body");r.get("/tertiary",t).done(function(e){o.innerHTML=(0,i.sanitize)(e),n.modal("show")}).fail(function(e){window.Dicoding.Logger.error("[".concat(e.status,"] ").concat(e.responseText),t)})}).on("click",'[data-dismiss="modal"]',function(e){r(e.modalTarget).modal("hide")})},{dompurify:1}],6:[function(e,t,n){"use strict";var o,r=e("../helpers/loaders"),i=(o=e("dompurify"))&&o.__esModule?o:{default:o};var a="290";function s(t){return new Promise(function(e){(0,r.loadJS)(t,e)})}function c(){return window.Promise||function(e){(0,r.loadJS)("https://www.promisejs.org/polyfills/promise-6.1.0.js",function(){e()})}(function(){return c()}),(0,r.loadCSS)("/ui/froala".concat(a,"/css/froala_editor.min.css")),(0,r.loadCSS)("/ui/froala".concat(a,"/css/froala_style.min.css")),(0,r.loadCSS)("/ui/froala".concat(a,"/css/plugins/image.min.css")),s("/ui/froala".concat(a,"/js/froala_editor.min.js")).then(function(){return s("/ui/froala".concat(a,"/js/plugins/image.min.js"))}).then(function(){return s("/ui/froala".concat(a,"/js/plugins/link.min.js"))})}$(function(){window.dicoding=window.dicoding||{},window.dicoding.initSimplifiedFroala=function(o){function e(e,t,n,o){if(o){var r=JSON.parse(o);r.message&&alert(r.message)}5===n.code&&t.popups.get("image.insert").find(".fr-image-progress-bar-layer").find("h3").text("Ukuran gambar terlalu besar, Ukuran maksimal yang diizinkan adalah 10485760 MB")}function t(e,t){var n=o.data("contentPreview");n&&$("#".concat(n)).html(t.html.get())}c().then(function(){$.FroalaEditor.DEFAULTS.key="5E5A5E4G5D4E3cA5A4D4E3E4B2D2E3C1C6vDIG1QCYRWa1GPId1f1I1==",$.FroalaEditor.DefineIcon("codeIcon",{NAME:"code"}),$.FroalaEditor.RegisterCommand("insertCodeBlock",{title:"Insert code block",icon:"codeIcon",undo:!0,focus:!1,showOnMobile:!0,callback:function(){var e=this.html.getSelected().replace(/<p>/g,"").replace(/(<\/p>)|(<br ?\/?>)/gim,"\n").trim(),t=i.default.sanitize(e,{ALLOWED_TAGS:["pre","code"]});this.html.insert("<pre><code>".concat(t,"</code></pre>")),this.events.focus()},refresh:function(e){e.toggleClass("fr-active",this.format.is("pre")).attr("aria-pressed",this.format.is("pre"))}});o.froalaEditor({tabSpaces:4,imageUploadParam:"image",imageUploadParams:{type:o.data("imageType")},imageUploadURL:"/dicodingassets/image",imageMaxSize:10485760,imageAllowedTypes:["jpeg","jpg","png","gif"],imageDefaultAlign:"left",imageDefaultWidth:0,videoUpload:!1,heightMax:400,iconsTemplate:"font_awesome_5",placeholderText:o.data("placeholder"),linkAlwaysBlank:!0,linkList:[],linkInsertButtons:[],toolbarButtons:["bold","italic","underline","|","insertLink","insertImage","insertCodeBlock"]}).on("froalaEditor.image.error",e).on("froalaEditor.contentChanged",t)})};var e=$("textarea[data-rich-editor]");e.length&&window.dicoding.initSimplifiedFroala(e)})},{"../helpers/loaders":4,dompurify:1}],7:[function(e,t,n){"use strict";var o=e("../commons/scripts/helpers/loaders");$(function(){(0,o.loadJS)("https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js",function(){(0,o.loadCSS)("https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"),$('select[name="dicoding_information_source"]').select2({theme:"bootstrap4",placeholder:"Silakan pilih referensi"})}),function(){function t(){$("#source-information-message").text("Anda belum memilih referensi"),$(".select2-container--bootstrap4 .select2-selection").css("border-color","#F43F5E")}$('button[type="submit"]').on("click",function(e){""==$('select[name="dicoding_information_source"]').val()&&(e.preventDefault(),t())}),$('select[name="dicoding_information_source"]').on("change",function(){""==$(this).val()?t():($("#source-information-message").text(""),$(".select2-container--bootstrap4 .select2-selection").css("border-color","#d4d4d8"))})}()})},{"../commons/scripts/helpers/loaders":4}],8:[function(e,t,n){"use strict";function c(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}function o(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=s.apply(e,a);function r(e){c(o,t,n,r,i,"next",e)}function i(e){c(o,t,n,r,i,"throw",e)}r(void 0)})}}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"user",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._webcamElement=e,this._webcamElement.width=this._webcamElement.width||640,this._webcamElement.height=this._webcamElement.height||.75*this._webcamElement.width,this._facingMode=t,this._webcamList=[],this._streamList=[],this._selectedDeviceId="",this._canvasElement=n,this._snapSoundElement=o}var e,t,n;return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(r,[{key:"getVideoInputs",value:function(e){var t=this;return this._webcamList=[],e.forEach(function(e){"videoinput"===e.kind&&t._webcamList.push(e)}),1==this._webcamList.length&&(this._facingMode="user"),this._webcamList}},{key:"getMediaConstraints",value:function(){var e={};return""==this._selectedDeviceId?e.facingMode=this._facingMode:e.deviceId={exact:this._selectedDeviceId},{video:e,audio:!1}}},{key:"selectCamera",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,r=this._webcamList[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value;if("user"==this._facingMode&&i.label.toLowerCase().includes("front")||"enviroment"==this._facingMode&&i.label.toLowerCase().includes("back")){this._selectedDeviceId=i.deviceId;break}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"flip",value:function(){this._facingMode="user"==this._facingMode?"enviroment":"user",this._webcamElement.style.transform="",this.selectCamera()}},{key:"start",value:(n=o(regeneratorRuntime.mark(function e(){var o,r=this,t=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=!(0<t.length&&void 0!==t[0])||t[0],e.abrupt("return",new Promise(function(t,n){r.stop(),navigator.mediaDevices.getUserMedia(r.getMediaConstraints()).then(function(e){r._streamList.push(e),r.info().then(function(e){r.selectCamera(),o?r.stream().then(function(e){t(r._facingMode)}).catch(function(e){n(e)}):t(r._selectedDeviceId)}).catch(function(e){n(e)})}).catch(function(e){n(e)})}));case 2:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"info",value:(t=o(regeneratorRuntime.mark(function e(){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,n){navigator.mediaDevices.enumerateDevices().then(function(e){o.getVideoInputs(e),t(o._webcamList)}).catch(function(e){n(e)})}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"stream",value:(e=o(regeneratorRuntime.mark(function e(){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,n){navigator.mediaDevices.getUserMedia(o.getMediaConstraints()).then(function(e){o._streamList.push(e),o._webcamElement.srcObject=e,"user"==o._facingMode&&(o._webcamElement.style.transform="scale(-1,1)"),o._webcamElement.play(),t(o._facingMode)}).catch(function(e){console.log(e),n(e)})}));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})},{key:"stop",value:function(){this._streamList.forEach(function(e){e.getTracks().forEach(function(e){e.stop()})})}},{key:"snap",value:function(){if(null==this._canvasElement)throw"canvas element is missing";null!=this._snapSoundElement&&this._snapSoundElement.play(),this._canvasElement.height=this._webcamElement.scrollHeight,this._canvasElement.width=this._webcamElement.scrollWidth;var e=this._canvasElement.getContext("2d");return"user"==this._facingMode&&(e.translate(this._canvasElement.width,0),e.scale(-1,1)),e.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),e.drawImage(this._webcamElement,0,0,this._canvasElement.width,this._canvasElement.height),this._canvasElement.toDataURL("image/png")}},{key:"facingMode",get:function(){return this._facingMode},set:function(e){this._facingMode=e}},{key:"webcamList",get:function(){return this._webcamList}},{key:"webcamCount",get:function(){return this._webcamList.length}},{key:"selectedDeviceId",get:function(){return this._selectedDeviceId}}]),r}();n.default=r},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(i<=0)return;var r=setInterval(function(){return function(){i-=1;var e=Math.floor(i/3600),t=Math.floor(i%3600/60),n=Math.floor(i%3600%60),o="";0<e&&(o+=e+"h:");0<t&&(o+=("0"+t).slice(-2)+"m:");0<=n&&(o+=("0"+n).slice(-2)+"s");a.innerHTML=o,i<=0&&(clearInterval(r),window.location.reload())}()},1e3)};var i=window.freezeTime,a=document.querySelector('[data-target="#exam-waiting-time"]')},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,o.Controller),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"connect",value:function(){var e=Array.from(this.choiceToggleTargets).find(function(e){return e.checked});null!=e&&this.__selectedChoice(e)}},{key:"onAnswerClick",value:function(e){var t=e.target.dataset.answerId;void 0===t&&(t=e.target.parentElement.dataset.answerId);var n=document.querySelector("#answer-"+t);null!=n&&(n.checked=!0,this.onChangeChoice())}},{key:"onChangeChoice",value:function(){var t=this;this.choiceToggleTargets.forEach(function(e){e.checked?t.__selectedChoice(e):t.__unselectedChoice(e)})}},{key:"__selectedChoice",value:function(e){e.parentElement.nextElementSibling.classList.add("selected"),e.parentElement.classList.remove("dcd-btn-secondary"),e.parentElement.classList.remove("bg-white"),e.parentElement.classList.add("dcd-btn-primary")}},{key:"__unselectedChoice",value:function(e){e.parentElement.nextElementSibling.classList.remove("selected"),e.parentElement.classList.remove("dcd-btn-primary"),e.parentElement.classList.add("dcd-btn-secondary"),e.parentElement.classList.add("bg-white")}}],[{key:"targets",get:function(){return["choiceToggle"]}}]),e}();n.default=u},{stimulus:2}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,o.Controller),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"activateContinueBtn",value:function(e){Array.from(this.checkBoxListTargets).filter(function(e){return e.checked}).length===this.checkBoxListTargets.length?this.continueBtnTarget.classList.remove("disabled"):this.continueBtnTarget.classList.add("disabled")}}],[{key:"targets",get:function(){return["continueBtn","checkBoxList"]}}]),e}();n.default=u},{stimulus:2}],12:[function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("stimulus"),r=y(e("./widgets/moduleSearchController")),i=y(e("./widgets/DibantuController"));e("../onboardinguserinterest/script"),e("../commons/scripts/widgets/simplifiedFroala"),e("./widgets/helpOverlay"),e("./widgets/keyboardShortcut"),e("./widgets/setting"),e("./widgets/uiTour"),e("./widgets/classroomToggle"),e("./widgets/featureActivation"),e("./widgets/moduleReport");var s=y(e("./scripts/checkUserTheme")),c=m(e("./widgets/needAuth"));e("./widgets/moduleNavigationController");var u=y(e("./widgets/ToolsNavigationController"));e("../commons/scripts/widgets/ModalWithTertiaryRequest");var l=m(e("./parts/examPage")),d=y(e("./parts/submission/selfReviewController")),f=y(e("./parts/multipleChoiceController")),p=y(e("../v3common/scripts/widgets/TabsController"));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function y(e){return e&&e.__esModule?e:{default:e}}function g(){$("#congratulationModal").modal("show")}e("./scripts/checkUserWebcam"),window.isExam?(l.default(),window.addEventListener("load",function(){if(window.isHasExamFinishedWasSession){var e=window.examRegistrationIdForShowingReport;document.getElementById("button-view-exam-result-"+e).click()}document.getElementById("close-exam-result").addEventListener("click",function(){g()})})):g();var b=o.Application.start();b.register("newModuleSearch",r.default),b.register("selfReview",d.default),b.register("multipleChoiceController",f.default),b.register("dibantu",i.default),b.register("toolsNavigationController",u.default),b.register("tabsController",p.default),c.default(),document.addEventListener("DOMContentLoaded",function(){(0,s.default)(),document.body.style.visibility="visible",document.body.style.opacity=1})},{"../commons/scripts/widgets/ModalWithTertiaryRequest":5,"../commons/scripts/widgets/simplifiedFroala":6,"../onboardinguserinterest/script":7,"../v3common/scripts/widgets/TabsController":30,"./parts/examPage":9,"./parts/multipleChoiceController":10,"./parts/submission/selfReviewController":11,"./scripts/checkUserTheme":13,"./scripts/checkUserWebcam":14,"./widgets/DibantuController":16,"./widgets/ToolsNavigationController":17,"./widgets/classroomToggle":18,"./widgets/featureActivation":19,"./widgets/helpOverlay":20,"./widgets/keyboardShortcut":21,"./widgets/moduleNavigationController":23,"./widgets/moduleReport":24,"./widgets/moduleSearchController":25,"./widgets/needAuth":26,"./widgets/setting":28,"./widgets/uiTour":29,stimulus:2}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=document.getElementById("dark-mode-button"),t=document.getElementById("light-mode-button"),n=document.getElementById("warm-mode-button"),o=document.querySelectorAll(".js-content-prettify");e.addEventListener("click",function(){document.body.classList.contains("warm")&&document.body.classList.remove("warm"),document.body.classList.add("dark"),localStorage.setItem("userTheme","dark"),t.setAttribute("data-theme-active","false"),n.setAttribute("data-theme-active","false"),e.setAttribute("data-theme-active","true"),o&&o.forEach(function(e){e.classList.remove("content--prettify-light"),e.classList.add("content--prettify-dark")})}),t.addEventListener("click",function(){document.body.classList.contains("warm")&&document.body.classList.remove("warm"),document.body.classList.contains("dark")&&document.body.classList.remove("dark"),localStorage.removeItem("userTheme"),e.setAttribute("data-theme-active","false"),n.setAttribute("data-theme-active","false"),t.setAttribute("data-theme-active","true"),o&&o.forEach(function(e){e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")})}),n.addEventListener("click",function(){document.body.classList.contains("dark")&&(document.body.classList.remove("dark"),e.setAttribute("data-theme-active","false")),document.body.classList.remove("dark"),document.body.classList.add("warm"),localStorage.setItem("userTheme","warm"),n.setAttribute("data-theme-active","true"),t.setAttribute("data-theme-active","false"),e.setAttribute("data-theme-active","false"),o&&o.forEach(function(e){e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")})});var r=localStorage.getItem("userTheme");document.body.classList.add(r||"light"),"dark"===r?(t.removeAttribute("data-theme-active"),n.removeAttribute("data-theme-active"),e.setAttribute("data-theme-active","true"),o&&o.forEach(function(e){e.classList.remove("content--prettify-light"),e.classList.add("content--prettify-dark")})):"warm"===r?(t.removeAttribute("data-theme-active"),e.removeAttribute("data-theme-active"),n.setAttribute("data-theme-active","true")):(e.removeAttribute("data-theme-active"),n.removeAttribute("data-theme-active"),t.setAttribute("data-theme-active","true"),o&&o.forEach(function(e){e.classList.remove("content--prettify-dark"),e.classList.add("content--prettify-light")}))}},{}],14:[function(e,t,n){"use strict";var o,r=(o=e("../../v3-tutorial-exam/scripts/webcam"))&&o.__esModule?o:{default:o};!function(){var t=document.getElementById("button-start-exam");if(3===window.courseType&&!0===window.isExam){var e=document.getElementById("info-start-exam");e&&(e.style.display="block");var n=document.getElementById("webcam"),o=new r.default(n,"user");o.start().then(function(e){o.stop(),t&&(t.style.display="block")}).catch(function(e){t&&(t.style.display="none")})}else t&&(t.style.display="block")}()},{"../../v3-tutorial-exam/scripts/webcam":8}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("dompurify"),i=(o=e("../../commons/scripts/helpers/Str"))&&o.__esModule?o:{default:o},s=e("../../commons/scripts/helpers/loaders");function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function a(e,t,n,o,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.botAvatar=e,this.userAvatar=t,this.discussionsUrl=n,this.newDiscussionUrl=o,this.botFeedbackUrl=r,$(document).on("secondary:data:ready",function(e,t){i.discussions=t.additional.tutorialDiscussions||[],(0,s.loadJS)("https://cdn.jsdelivr.net/combine/npm/vue@2.6.12,npm/botui@0.3.9,npm/fuse.js@6.0.0",function(){(0,s.loadCSS)("https://unpkg.com/botui@0.3.9/build/botui.min.css"),i.bot=new BotUI("dibantu-bot-ui",{searchselect:!1}),i.fuse=new Fuse(i.discussions,{includeScore:!0,location:1,useExtendedSearch:!0,keys:["title"]})})})}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(a,[{key:"start",value:function(){var e=this;return this.bot.message.add({loading:!0,delay:1e3,photo:this.botAvatar,content:"Kamu bisa tanya apa aja ke aku tentang permasalahan pada modul ini. Silakan tuliskan kata kuncinya ya."}).then(function(){return e.bot.message.add({loading:!0,delay:1e3,photo:e.botAvatar,type:"html",content:"<b>Contohnya:</b> <br> Aplikasi error, Code error, Force close, Web tidak bisa dibuka, dll."})}).then(function(){return e.askSearchKeyword()})}},{key:"askSearchKeyword",value:function(){var n=this;return this.clearSearchQuery(),this.bot.action.text({cssClass:"form-inline",addMessage:!1,action:{cssClass:"form-control flex-fill mr-2",placeholder:"Ketik pertanyaan kamu...",button:{label:" ",icon:"paper-plane"}}}).then(function(e){var t=e.value;return n.searchQuery=t,n.bot.message.human({photo:n.userAvatar,content:t})}).then(function(){var e=n.fuse.search(n.searchQuery);return 0<e.length?n.respondWithDiscussionList(e):n.discussionNotFoundResponse()})}},{key:"discussionNotFoundResponse",value:function(){var e=this;return this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,content:"Duh, maaf aku belum menemukan diskusi yang sesuai."}).then(function(){return e.askAgainOrCreateNewDiscussion()})}},{key:"respondWithDiscussionList",value:function(e){var n=this;return this.bot.message.bot({loading:!0,delay:1e3,photo:this.botAvatar,content:"Oke, berikut adalah beberapa diskusi yang aku temukan."}).then(function(){return Promise.all(e.map(function(e){var t=e.item;return n.bot.message.bot({delay:500,photo:n.botAvatar,type:"html",content:"".concat((0,r.sanitize)(t.title),'<hr class="my-2"><a href="').concat(i.default.encodeTags(t.link),'" target="_blank" class="dcd-link">Lihat diskusi</a>')})}))}).then(function(){return n.bot.message.bot({loading:!0,delay:1e3,photo:n.botAvatar,content:"Apakah diskusi-diskusi di atas sudah membantu?"})}).then(function(){return n.bot.action.button({delay:500,addMessage:!1,action:[{text:"Belum",value:"no"},{text:"Sudah",value:"yes"}]})}).then(function(e){return n.sendFeedback("yes"===e.value),"no"===e.value?n.bot.message.bot({loading:!0,delay:1e3,photo:n.botAvatar,type:"html",content:"Maaf ya jika belum membantu <br> Kamu bisa bertanya lagi dengan kata kunci berbeda atau membuat diskusi baru."}).then(function(){return n.askAgainOrCreateNewDiscussion()}):"yes"===e.value?n.bot.message.bot({loading:!0,delay:1e3,photo:n.botAvatar,type:"html",content:"Wah senang rasanya bisa membantu <br> Kalau ada kesulitan lain, silakan tanya lagi atau kunjungi forum diskusi."}).then(function(){return n.askAgainOrOpenDiscussions()}):void 0})}},{key:"askAgainOrCreateNewDiscussion",value:function(){var t=this;return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"},{text:"Buat diskusi baru",value:"create_new_discussion"}]}).then(function(e){return"ask_again"===e.value?t.askSearchKeyword():("create_new_discussion"===e.value&&window.open(i.default.encodeTags(t.newDiscussionUrl),"_blank"),t.askAgain())})}},{key:"askAgainOrOpenDiscussions",value:function(){var t=this;return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"},{text:"Lihat forum diskusi",value:"open_discussions"}]}).then(function(e){return"ask_again"===e.value?t.askSearchKeyword():("open_discussions"===e.value&&window.open(i.default.encodeTags(t.discussionsUrl),"_blank"),t.askAgain())})}},{key:"askAgain",value:function(){var e=this;return this.bot.action.button({delay:500,addMessage:!1,action:[{text:"Tanya lagi",value:"ask_again"}]}).then(function(){return e.askSearchKeyword()})}},{key:"sendFeedback",value:function(e){return fetch(this.botFeedbackUrl,{method:"POST",body:new URLSearchParams({is_helping:e?1:-1,query:this.searchQuery,_token:window._token})})}},{key:"clearSearchQuery",value:function(){this.searchQuery=""}}]),a}();n.default=a},{"../../commons/scripts/helpers/Str":3,"../../commons/scripts/helpers/loaders":4,dompurify:1}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("stimulus"),i=(o=e("./DibantuBot"))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,r.Controller),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"initialize",value:function(){var t=this;this.bot=new i.default(this.data.get("botAvatar"),this.data.get("userAvatar"),this.data.get("discussionsUrl"),this.data.get("newDiscussionUrl"),this.data.get("botFeedbackUrl")),window.addEventListener("mouseup",function(e){e.preventDefault(),t.chatWindowTarget===e.target||t.chatWindowTarget.contains(e.target)||t.chatWindowTarget.classList.add("d-none")})}},{key:"toggleChatWindow",value:function(e){e.preventDefault(),this.chatWindowTarget.classList.toggle("d-none")}},{key:"startBot",value:function(e){e.preventDefault(),this.introContainerTarget.style.display="none",this.botContainerTarget.style.display="block",this.bot.start()}}],[{key:"targets",get:function(){return["chatWindow","introContainer","botContainer"]}}]),e}();n.default=d},{"./DibantuBot":15,stimulus:2}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=s(e("./moduleList")),i=s(e("./searchModule"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,d(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(e,o.Controller),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,[{key:"connect",value:function(){var n=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);n&&(this.searchShortcutLabelTarget.innerText=" /",document.querySelectorAll("kbd[data-meta-key-modifier]").forEach(function(e){e.innerText=""})),window.addEventListener("keydown",function(e){var t=n?e.metaKey:e.ctrlKey;!t||"m"!==e.key&&"M"!==e.key||(e.preventDefault(),i.closeOverlay(e),r.openModuleList()),"Escape"===e.key&&r.isOpen(e)&&(e.preventDefault(),r.hideModuleList()),t&&"/"===e.key&&(e.preventDefault(),r.closeOverlay(e),i.openSearchModule()),"Escape"===e.key&&i.isOpen(e)&&(e.preventDefault(),i.hideSearchModule())}),window.addEventListener("mouseup",function(e){e.preventDefault(),r.closeOverlay(e),i.overlayBox===e.target&&i.closeOverlay(e)}),i.closeButton.addEventListener("click",i.hideSearchModule),r.closeButton.addEventListener("click",r.hideModuleList)}},{key:"onClickModuleListIcon",value:function(e){e.preventDefault(),r.openModuleList()}},{key:"onClickSearchIcon",value:function(e){e.preventDefault(),i.openSearchModule()}}],[{key:"targets",get:function(){return["searchShortcutLabel","moduleListIcon"]}}]),e}();n.default=p},{"./moduleList":22,"./searchModule":27,stimulus:2}],18:[function(e,t,n){"use strict";$("#classroom-toggle").on("change",function(){$(this).is(":checked")?window.location=$(this).data("enabled"):window.location=$(this).data("disabled")})},{}],19:[function(e,t,n){"use strict";$("#appearance-icon").on("click",function(e){e.preventDefault();var t=$(".feature-activation");t.hasClass("show")?t.removeClass("show"):t.addClass("show")}),$(window).on("mouseup",function(e){var t=$(".feature-activation");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("show"),$(".overlay-open").remove(),$("body").css("overflow","unset"))})},{}],20:[function(e,t,n){"use strict";null!==document.getElementById("help-btn")&&(document.getElementById("help-btn").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("help-overlay");t&&(t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show"))}),window.addEventListener("mouseup",function(e){var t=$("#help-overlay");t&&(t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("show"),$(".overlay-open").remove(),$("body").css("overflow","unset")))}))},{}],21:[function(e,t,n){"use strict";null!==document.getElementById("keyboard-shortcut-btn-open")&&(document.getElementById("keyboard-shortcut-btn-open").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("keyboard-shortcut-overlay");t.classList.contains("show")?(t.classList.remove("show"),t.parentElement.classList.remove("show")):(t.classList.add("show"),t.parentElement.classList.add("show"),$("body").css("overflow","hidden"))}),window.addEventListener("mouseup",function(e){var t=$("#keyboard-shortcut-overlay");t.is(e.target)||0!==t.has(e.target).length||(document.getElementById("keyboard-shortcut-overlay").classList.remove("show"),document.getElementById("keyboard-shortcut-overlay").parentElement.classList.remove("show"),$("body").css("overflow","unset"))}),document.getElementById("keyboard-shortcut-btn-close").addEventListener("click",function(e){e.preventDefault(),document.getElementById("keyboard-shortcut-overlay").classList.remove("show"),document.getElementById("keyboard-shortcut-overlay").parentElement.classList.remove("show"),$("body").css("overflow","unset")}))},{}],22:[function(e,t,n){"use strict";var o=document.getElementById("module-list"),r=o.parentElement,i=document.getElementById("module-btn-close");function a(){o.style.width="0",setTimeout(function(){r.classList.remove("show")},500),$("body").css("overflow","unset")}function s(e){var t=$("#module-list");return 0<t.width()&&!t.is(e.target)&&0===t.has(e.target).length}t.exports={closeButton:i,openModuleList:function(){setTimeout(function(){o.style.width=window.innerWidth<=576?"100%":"500px"},300),r.classList.add("show"),$("body").css("overflow","hidden");var e=document.querySelectorAll(".js-current-module");0<e.length&&e[0].parentElement.classList.add("show")},hideModuleList:a,closeOverlay:function(e){s(e)&&a()},isOpen:s}},{}],23:[function(e,t,n){"use strict";var r,i,a;r=jQuery,i=r("#alert-disallowed-skip-video"),a=r("a.classroom-bottom-nav__next"),i.children(r("button.close")).on("click",function(){i.addClass("d-none")}),a.hasClass("disabled")&&a.parent().on("click",function(){i.delay(300).removeClass("d-none")}),window.addEventListener("keydown",function(e){var t=["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase()),n=/(Mac)/.test(navigator.platform)?e.metaKey:e.ctrlKey;if(t)return!1;if(n&&"ArrowLeft"===e.key){e.preventDefault();var o=r("a.classroom-bottom-nav__prev").attr("href");if(!o)return!1;window.location.href=o}if(n&&"ArrowRight"===e.key){if(e.preventDefault(),a.hasClass("disabled"))return i.delay(300).removeClass("d-none"),!1;window.location.href=a.attr("href")}})},{}],24:[function(e,t,n){"use strict";var o,r=(o=e("dompurify"))&&o.__esModule?o:{default:o},i=e("stimulus");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.Application.start().register("module-report-controller",function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,i.Controller),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"connect",value:function(){var t=this;this.activeLabel=Array.from(this.labelTargets).find(function(e){return e.classList.contains("active")}),this.activeHintTemplate=Array.from(this.hintTemplateTargets).find(function(e){return e.id===t.activeLabel.querySelector("input").value+"__hints"}),this.textAreaFieldTarget.dataset.placeholder=r.default.sanitize(this.activeHintTemplate.content)}},{key:"onClickLabel",value:function(e){var t=this;this.activeLabel=e.target,this.activeHintTemplate=Array.from(this.hintTemplateTargets).find(function(e){return e.id===t.activeLabel.querySelector("input").value+"__hints"}),$(this.textAreaFieldTarget).data("froala.editor").opts.placeholderText=r.default.sanitize(this.activeHintTemplate.content),$(this.textAreaFieldTarget).froalaEditor("placeholder.refresh")}}],[{key:"targets",get:function(){return["label","textAreaField","hintTemplate"]}}]),e}())},{dompurify:1,stimulus:2}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=a(e("dompurify")),i=a(e("../../commons/scripts/helpers/Str"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,o.Controller),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"connect",value:function(){this._highlightMatchSearchTerms()}},{key:"_highlightMatchSearchTerms",value:function(){var e=new URLSearchParams(window.location.search);e.has("hl")&&new window.Mark(document.querySelector(".js-content-prettify")).mark(e.get("hl"),{separateWordSearch:!1})}},{key:"onQueryBlur",value:function(){this.searchTerm.length<1&&this._clearSearchResult()}},{key:"search",value:function(e){this.searchTerm.length<1&&this._clearSearchResult(),0<this.searchTerm.length&&this._fetchSearchResult().then(this._renderSearchResult.bind(this))}},{key:"_fetchSearchResult",value:function(){return $.getJSON(window.moduleSearchRoute,{q:this.searchTerm})}},{key:"_renderSearchResult",value:function(e){if(e.data.result.length<1)this.resultTarget.innerHTML='<div class="container my-3">Tidak ditemukan modul dengan kata kunci <b>'.concat(r.default.sanitize(e.data.term),"</b>.</div>");else{var t=e.data.result.map(function(e){return'\n            <a href="'.concat(i.default.encodeTags(e.url),'" class="search-result-link text-gray-700 remove-style-link">\n                <div class="container my-3" href="').concat(i.default.encodeTags(e.url),'">\n                    <small class="font-weight-bold text-gray-500">').concat(e.match_count," kecocokan</small><br>\n                    <span>").concat(r.default.sanitize(e.title),"</span>\n                </div>\n            </a>\n        ")});this.resultTarget.innerHTML='\n            <div class="result">\n                '.concat(t.join(""),"\n            </div>\n        ")}}},{key:"_clearSearchResult",value:function(){this.resultTarget.innerHTML=""}},{key:"searchTerm",get:function(){return this.queryTarget.value}}],[{key:"targets",get:function(){return["query","suggestion","result","allModules"]}}]),e}();n.default=f},{"../../commons/scripts/helpers/Str":3,dompurify:1,stimulus:2}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=$(".need-auth"),t=$(".need-auth--login"),n=$(".need-auth--registration");t.hide(),n.hide(),t.hasClass("show")&&(e.removeClass("show").hide(),t.addClass("show").show());n.hasClass("show")&&(e.removeClass("show").hide(),n.addClass("show").show());$(".v3-login-cta").on("click",function(){e.removeClass("show").hide(),t.addClass("show").show()}),$(".v3-registration-cta").on("click",function(){e.removeClass("show").hide(),n.addClass("show").show()})}},{}],27:[function(e,t,n){"use strict";var o=document.getElementById("module-search-container"),r=o.parentElement,i=document.getElementById("module-search-icon"),a=document.getElementById("module-search__esc-button");function s(){o.classList.remove("show"),i.classList.remove("show"),r.classList.remove("show"),$("body").css("overflow","unset")}function c(e){var t=$("#module-search-container");return t.hasClass("show")&&!t.is(e.target)}t.exports={closeButton:a,overlayBox:r,closeOverlay:function(e){c(e)&&s()},openSearchModule:function(){o.classList.add("show"),i.classList.add("show"),r.classList.add("show"),$("input.js-module-search__field").trigger("focus").css("box-shadow","none"),$("body").css("overflow","hidden")},hideSearchModule:s,isOpen:c}},{}],28:[function(e,t,n){"use strict";null!==document.getElementById("setting-icon")&&(document.getElementById("setting-icon").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("setting-overlay");t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")}),window.addEventListener("mouseup",function(e){var t=$("#setting-overlay");t.is(e.target)||0!==t.has(e.target).length||(document.getElementById("setting-overlay").classList.remove("show"),$(".overlay-open").remove(),$("body").css("overflow","unset"))}),document.getElementById("setting-btn-close").addEventListener("click",function(e){e.preventDefault(),document.getElementById("setting-overlay").classList.remove("show"),$(".overlay-open").remove(),$("body").css("overflow","unset")}))},{}],29:[function(e,t,n){"use strict";var o,c=e("../../commons/scripts/helpers/loaders"),r=(o=e("../../commons/scripts/helpers/Str"))&&o.__esModule?o:{default:o};function i(){(0,c.loadJS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/js/shepherd.min.js",function(){(0,c.loadCSS)("https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/css/shepherd.css");function e(){var e=o.currentStep.el,t=e.querySelector(".shepherd-footer"),n=document.createElement("div");n.classList.add("classroom-ui-tour__step-count"),n.innerText="".concat(o.steps.indexOf(o.currentStep)+1,"/").concat(o.steps.length),e.querySelector(".classroom-ui-tour__icon-next")?t.insertBefore(n,e.querySelector(".classroom-ui-tour__icon-next")):t.insertBefore(n,e.querySelector(".classroom-ui-tour__button"))}var t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?"":"CTRL",o=new Shepherd.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"classroom-ui-tour",scrollTo:{behavior:"smooth",block:"center"}}}),n={text:"Lewati",classes:"classroom-ui-tour__button",action:o.complete},r={text:"",classes:"classroom-ui-tour__icon-back",action:o.back},i={text:"",classes:"classroom-ui-tour__icon-next",action:o.next},a={text:"Selesai",classes:"classroom-ui-tour__button",action:o.complete},s=[{id:"corridor-step",text:'<p class="font-weight-600">Koridor Kelas</p><span>Lihat progress belajarmu di koridor kelas.</span>',attachTo:{element:".cta-to-corridor",on:"bottom"},when:{show:function(){e()}},buttons:[n,i]},{id:"course-tools-step",text:"Permudah aktivitas belajar Anda dengan Classroom Tools.",attachTo:{element:".course-tools",on:"bottom"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"module-search-step",text:'\n        <p class="font-weight-600">Pencarian Modul</p>\n        Tekan <kbd class="mr-1">'.concat(t,"</kbd><kbd>/</kbd> untuk mencari konten dari sebuah modul.\n      "),attachTo:{element:"#module-search-icon",on:"bottom"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"module-list-step",text:'\n        <p class="font-weight-600">Daftar Modul</p>\n        Tekan <kbd class="mr-1">'.concat(t,"</kbd><kbd>M</kbd> untuk membuka daftar modul dengan cepat.\n      "),attachTo:{element:"#module-list-icon",on:"bottom"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"appearance-step",text:'<p class="font-weight-600">Kembali ke Classroom Lama</p><span>Classroom baru masih dalam tahap uji coba. Anda bisa kembali ke Classroom lama.</span>',attachTo:{element:"#appearance-icon",on:"bottom"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"read-mode-step",text:'<p class="font-weight-600">Read Mode</p><span>Atur mode baca untuk kenyamanan membaca yang lebih maksimal.</span>',attachTo:{element:"#setting-icon",on:"bottom"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"modul-nav-step",text:'<p class="font-weight-600">Navigasi Modul</p>\n        Tekan <kbd class="mr-1">'.concat(t,'</kbd><kbd>&larr;</kbd> atau <kbd class="mr-1">').concat(t,"</kbd><kbd>&rarr;</kbd> pada keyboard untuk berpindah modul.\n      "),attachTo:{element:".classroom-bottom-nav__next",on:"top"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"discussion-step",text:'<p class="font-weight-600">Forum Diskusi</p><span>Merasa bingung saat belajar? Akses forum diskusi untuk bertanya ke teman satu kelas, alumni, atau developer expert lainnya.</span>',attachTo:{element:".tools-button--discussion",on:"top"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"help-step",text:'<p class="font-weight-600">Laporkan Materi</p><span>Menemukan kejanggalan pada materi kelas? Laporkan dan akan segera kami tangani.</span>',attachTo:{element:".tools-button--help",on:"top"},when:{show:function(){e()}},buttons:[n,r,i]},{id:"onboarding-step",text:'<p class="font-weight-600">Onboarding</p><span>Berkenalan lebih dekat dengan Classroom Tools terbaru.</span>',attachTo:{element:".tools-button__onboarding",on:"top"},when:{show:function(){e()}},buttons:[r,a]}];o.addSteps(s),o.start()})}if(!window.beenShownClassroomOnboarding)if(window._authed){var a="".concat(r.default.encodeTags(window.location.origin),"/classroom-onboarding");$.post(a,{_token:window._token}),localStorage.setItem("classroom-ui-tour","yes"),$("#course-welcoming-modal").modal("show")}else localStorage.getItem("classroom-ui-tour")||$("#course-welcoming-modal").modal("show"),localStorage.setItem("classroom-ui-tour","yes");$("#start-ui-tour").on("click",function(){$("#course-welcoming-modal").modal("hide").fadeOut(),i()}),$(".tools-button__onboarding").on("click",function(){i()})},{"../../commons/scripts/helpers/Str":3,"../../commons/scripts/helpers/loaders":4}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("stimulus"),r=e("dompurify");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,o.Controller),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"connect",value:function(){this.currentTarget=this.tabOptionTargets[0],void 0!==this.currentTarget&&(this.currentTarget.parentElement.classList.add("active"),$("#"+(0,r.sanitize)(this.currentTarget.value)).addClass("active"),this.currentTarget.setAttribute("checked","checked"))}},{key:"onSelectTab",value:function(e){this.tabOptionTargets.forEach(function(e){e.checked?(e.parentElement.classList.add("active"),$("#"+(0,r.sanitize)(e.value)).addClass("active"),e.setAttribute("checked","checked")):(e.parentElement.classList.remove("active"),$("#"+(0,r.sanitize)(e.value)).removeClass("active"),e.removeAttribute("checked"))})}}],[{key:"targets",get:function(){return["tabOption"]}}]),e}();n.default=l},{dompurify:1,stimulus:2}]},{},[12]);